{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/josephn/Desktop/firesight/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"underline-offset-4 hover:underline text-primary\",\n      },\n      size: {\n        default: \"h-10 py-2 px-4\",\n        sm: \"h-9 px-3 rounded-md\",\n        lg: \"h-11 px-8 rounded-md\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, ...props }, ref) => {\n    return (\n      <button\n        className={buttonVariants({ variant, size, className })}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants } "],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,wQACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAOF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IACvC,qBACE,6LAAC;QACC,WAAW,eAAe;YAAE;YAAS;YAAM;QAAU;QACrD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///Users/josephn/Desktop/firesight/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={`rounded-lg border bg-card text-card-foreground shadow-sm ${className}`}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={`flex flex-col space-y-1.5 p-6 ${className}`}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={`text-2xl font-semibold leading-none tracking-tight ${className}`}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={`text-sm text-muted-foreground ${className}`}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={`p-6 pt-0 ${className}`} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={`flex items-center p-6 pt-0 ${className}`}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent } "],"names":[],"mappings":";;;;;;;;;AAAA;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAC,yDAAyD,EAAE,WAAW;QACjF,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAC,8BAA8B,EAAE,WAAW;QACtD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAC,mDAAmD,EAAE,WAAW;QAC3E,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAC,8BAA8B,EAAE,WAAW;QACtD,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAC,SAAS,EAAE,WAAW;QAAG,GAAG,KAAK;;;;;;;AAE9D,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAC,2BAA2B,EAAE,WAAW;QACnD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///Users/josephn/Desktop/firesight/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={`inline-flex h-10 items-center justify-center rounded-md bg-white/90 p-1 text-slate-500 ${className}`}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm ${className}`}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={`mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 ${className}`}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent } "],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,OAAO,mKAAA,CAAA,OAAkB;AAE/B,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,OAAkB;QACjB,KAAK;QACL,WAAW,CAAC,uFAAuF,EAAE,WAAW;QAC/G,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,mKAAA,CAAA,OAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAC,8XAA8X,EAAE,WAAW;QACtZ,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,mKAAA,CAAA,UAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAC,gIAAgI,EAAE,WAAW;QACxJ,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,mKAAA,CAAA,UAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///Users/josephn/Desktop/firesight/components/InfoSidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Info, Cloud, Lightbulb, ChevronRight, Loader2, Sun, CloudSun, Moon, CloudRain, CloudSnow, CloudLightning, Wind as WindIcon, Droplets, ArrowUp, ArrowDown } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport demographicData from \"./result/demographic_results.json\"\nimport suggestionsData from \"./result/suggestions_results.json\"\nimport { motion } from \"framer-motion\"\n\n// Map of cities to their corresponding counties\nconst cityToCountyMap = {\n  \"Yolo County, CA\": \"Yolo\",\n  \"Los Angeles County, CA\": \"Los Angeles\",\n  \"Monterey County, CA\": \"Monterey\",\n  \"Shasta County, CA\": \"Shasta\",\n  \"Kern County, CA\": \"Kern\",\n  \"Riverside County, CA\": \"Riverside\"\n}\n\n// Weather condition mapping based on temperature and precipitation\nconst getWeatherCondition = (temp: number, precip: number) => {\n  if (precip > 0) {\n    if (temp < 0) return \"Snowy\";\n    return \"Rainy\";\n  }\n  if (temp > 25) return \"Sunny\";\n  if (temp > 20) return \"Partly Cloudy\";\n  if (temp > 15) return \"Cloudy\";\n  if (temp > 10) return \"Mostly Cloudy\";\n  return \"Cold\";\n};\n\n// Default suggestions in case the county data is not available\nconst defaultSuggestions = [\n  [\"Increase emergency response training\", \"https://www.fema.gov/emergency-managers/individuals-communities/youth\"],\n  [\"Enhance community outreach programs\", \"https://thesocialchangeagency.org/blog/community-outreach-done-right-tips-for-charities-and-funders/\"],\n  [\"Improve multilingual communication\", \"https://www.fcc.gov/MultilingualAlerting_EAS-WEA\"],\n  [\"Boost volunteer recruitment\", \"https://www.redcross.org/volunteer/become-a-volunteer.html\"],\n  [\"Expand disaster preparedness education\", \"https://www.ready.gov/plan\"]\n]\n\ninterface InfoSidebarProps {\n  selectedCity: string | null;\n  visible: boolean;\n  onTakeAction?: (countyName: string) => void;\n}\n\ninterface RaceData {\n  name: string;\n  percentage: string;\n}\n\ninterface WeatherData {\n  date: string;\n  t_max: number;\n  t_min: number;\n  precip: number;\n  wind_max: number;\n  gust_max: number;\n  current_temp: number;\n  feels_like: number;\n  humidity: number;\n}\n\n// Add a helper function to format temperature\nconst formatTemperature = (temp: number | null | undefined): string => {\n  if (temp === null || temp === undefined || isNaN(temp)) {\n    return \"N/A\";\n  }\n  return `${Math.round(temp)}¬∞C`;\n};\n\n// Add a function to get the appropriate weather icon\nconst getWeatherIcon = (condition: string, size = 24) => {\n  const iconProps = {\n    size,\n    strokeWidth: 1.5,\n    className: \"weather-icon\",\n  };\n\n  switch (condition.toLowerCase()) {\n    case \"sunny\":\n      return <Sun {...iconProps} className=\"weather-icon sunny\" />;\n    case \"partly cloudy\":\n      return <CloudSun {...iconProps} className=\"weather-icon cloudy\" />;\n    case \"cloudy\":\n    case \"mostly cloudy\":\n      return <Cloud {...iconProps} className=\"weather-icon cloudy\" />;\n    case \"rainy\":\n      return <CloudRain {...iconProps} className=\"weather-icon rainy\" />;\n    case \"snowy\":\n      return <CloudSnow {...iconProps} className=\"weather-icon snowy\" />;\n    default:\n      return <Cloud {...iconProps} className=\"weather-icon cloudy\" />;\n  }\n};\n\nexport default function InfoSidebar({ selectedCity, visible = false, onTakeAction }: InfoSidebarProps) {\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [visibleSuggestions, setVisibleSuggestions] = useState<number[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [activeTab, setActiveTab] = useState(\"info\")\n  const [isScrollable, setIsScrollable] = useState(false)\n  const [isAtBottom, setIsAtBottom] = useState(false)\n  const [allSuggestionsShown, setAllSuggestionsShown] = useState(false)\n  const [weatherData, setWeatherData] = useState<WeatherData | null>(null)\n  const [weatherLoading, setWeatherLoading] = useState(false)\n  const [weatherError, setWeatherError] = useState<string | null>(null)\n  \n  // Check if the selected city is one of our predefined cities\n  const isKnownCity = selectedCity && Object.keys(cityToCountyMap).includes(selectedCity);\n  \n  // Get the county name for the selected city\n  const countyName = isKnownCity ? cityToCountyMap[selectedCity as keyof typeof cityToCountyMap] : null;\n  \n  // Get the demographic data for the county\n  const countyData = countyName ? demographicData[countyName as keyof typeof demographicData] : null;\n  \n  // Get the suggestions data for the county, with fallback to default suggestions\n  const countySuggestions = countyName && suggestionsData[countyName as keyof typeof suggestionsData] \n    ? suggestionsData[countyName as keyof typeof suggestionsData] \n    : defaultSuggestions;\n  \n  // Get the race data from the demographic data\n  const raceData = countyData?.top_3_race ? \n    Object.entries(countyData.top_3_race)\n      .map(([name, percentage]) => ({\n        name,\n        percentage: `${percentage}%`\n      }))\n      .sort((a, b) => {\n        const aPercent = parseFloat(a.percentage.replace('%', ''));\n        const bPercent = parseFloat(b.percentage.replace('%', ''));\n        return bPercent - aPercent;\n      }) : \n    null;\n\n  // Reset states when location changes\n  useEffect(() => {\n    setVisibleSuggestions([])\n    setAllSuggestionsShown(false)\n    setIsLoading(false)\n  }, [selectedCity])\n\n  // Handle tab changes and suggestion reveals\n  useEffect(() => {\n    if (isKnownCity && activeTab === \"suggestions\" && !allSuggestionsShown) {\n      // Only start loading if we haven't shown all suggestions yet\n      if (visibleSuggestions.length < countySuggestions.length) {\n        setIsLoading(true)\n        const timer = setTimeout(() => {\n          setVisibleSuggestions(prev => {\n            const nextIndex = prev.length;\n            const newSuggestions = [...prev, nextIndex];\n            \n            // Check if we've shown all suggestions\n            if (newSuggestions.length === countySuggestions.length) {\n              setAllSuggestionsShown(true)\n            }\n            \n            setIsLoading(false)\n            return newSuggestions;\n          })\n        }, 2000)\n\n        return () => clearTimeout(timer)\n      }\n    }\n  }, [isKnownCity, activeTab, visibleSuggestions.length, countySuggestions.length, allSuggestionsShown])\n\n  useEffect(() => {\n    if (visible) {\n      setSidebarOpen(true);\n    } else {\n      setSidebarOpen(false);\n    }\n  }, [visible]);\n\n  // Add scroll detection\n  useEffect(() => {\n    const checkScrollable = () => {\n      const container = document.querySelector('.suggestions-container');\n      if (container) {\n        const isScrollableNow = container.scrollHeight > container.clientHeight;\n        setIsScrollable(isScrollableNow);\n        \n        // Check if we're at the bottom\n        const isAtBottomNow = Math.abs((container.scrollHeight - container.scrollTop) - container.clientHeight) < 10;\n        setIsAtBottom(isAtBottomNow);\n      }\n    };\n\n    // Check initially\n    checkScrollable();\n    \n    // Add scroll event listener\n    const container = document.querySelector('.suggestions-container');\n    if (container) {\n      container.addEventListener('scroll', checkScrollable);\n    }\n\n    // Add resize observer\n    const resizeObserver = new ResizeObserver(checkScrollable);\n    if (container) {\n      resizeObserver.observe(container);\n    }\n\n    return () => {\n      if (container) {\n        container.removeEventListener('scroll', checkScrollable);\n        resizeObserver.unobserve(container);\n      }\n    };\n  }, [visibleSuggestions, activeTab]);\n\n  const handleScrollClick = () => {\n    const container = document.querySelector('.suggestions-container');\n    if (container) {\n      const currentScroll = container.scrollTop;\n      const targetScroll = currentScroll + container.clientHeight * 0.8;\n      \n      container.scrollTo({\n        top: targetScroll,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  // Fetch weather data when county changes\n  useEffect(() => {\n    const fetchWeatherData = async () => {\n      if (!countyName) {\n        setWeatherData(null)\n        return\n      }\n\n      setWeatherLoading(true)\n      setWeatherError(null)\n\n      try {\n        const response = await fetch(`http://localhost:8000/api/weather/${countyName}`)\n        if (!response.ok) {\n          throw new Error(`Weather data not found for ${countyName}`)\n        }\n        const data = await response.json()\n        setWeatherData(data)\n      } catch (error) {\n        setWeatherError(error instanceof Error ? error.message : 'Failed to fetch weather data')\n        setWeatherData(null)\n      } finally {\n        setWeatherLoading(false)\n      }\n    }\n\n    fetchWeatherData()\n  }, [countyName])\n\n  const renderNoDataMessage = () => (\n    <div className=\"p-4 text-center text-slate-500\">\n      <p className=\"text-lg font-medium\">Data not available</p>\n      <p className=\"mt-2 text-sm\">We currently only have data for Yolo County, Los Angeles County, Monterey County, and Shasta County.</p>\n    </div>\n  );\n\n  return (\n    <div\n      className={`fixed rounded-2xl right-0 top-2 z-20 w-full max-w-md transform bg-white shadow-lg transition-transform duration-300 ease-out ${\n        sidebarOpen ? \"translate-x-0\" : \"translate-x-full\"\n      }`}\n    >\n      <style jsx global>{`\n        .scrollbar-hide::-webkit-scrollbar {\n          display: none;\n        }\n        \n        .scrollbar-hide {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n\n        @keyframes wiggle {\n          0%, 100% {\n            transform: scale(1);\n            box-shadow: 0 0 20px rgba(249, 115, 22, 0.4);\n          }\n          50% {\n            transform: scale(1.02);\n            box-shadow: 0 0 30px rgba(249, 115, 22, 0.5);\n          }\n        }\n\n        @keyframes bounce {\n          0%, 100% {\n            transform: translateY(0) translateX(-50%);\n            animation-timing-function: cubic-bezier(0.8, 0, 1, 1);\n          }\n          50% {\n            transform: translateY(-15%) translateX(-50%);\n            animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n          }\n        }\n\n        @keyframes sunPulse {\n          0%, 100% {\n            transform: scale(1);\n            box-shadow: 0 0 20px rgba(249, 115, 22, 0.4);\n          }\n          50% {\n            transform: scale(1.1);\n            box-shadow: 0 0 30px rgba(249, 115, 22, 0.6);\n          }\n        }\n\n        @keyframes cloudFloat {\n          0%, 100% {\n            transform: translateX(0) translateY(0);\n          }\n          25% {\n            transform: translateX(-5px) translateY(-2px);\n          }\n          75% {\n            transform: translateX(5px) translateY(2px);\n          }\n        }\n\n        @keyframes rainDrop {\n          0% {\n            transform: translateY(-10px);\n            opacity: 0;\n          }\n          100% {\n            transform: translateY(10px);\n            opacity: 1;\n          }\n        }\n\n        @keyframes snowFall {\n          0% {\n            transform: translateY(-10px) rotate(0deg);\n            opacity: 0;\n          }\n          100% {\n            transform: translateY(10px) rotate(360deg);\n            opacity: 1;\n          }\n        }\n\n        .animate-bounce {\n          animation: bounce 2s infinite;\n        }\n\n        .weather-icon {\n          transition: all 0.3s ease;\n        }\n\n        .weather-icon.sunny {\n          animation: sunPulse 3s infinite;\n          color: #f97316;\n        }\n\n        .weather-icon.cloudy {\n          animation: cloudFloat 4s infinite;\n          color: #64748b;\n        }\n\n        .weather-icon.rainy {\n          animation: cloudFloat 4s infinite;\n          color: #475569;\n        }\n\n        .weather-icon.snowy {\n          animation: cloudFloat 4s infinite;\n          color: #94a3b8;\n        }\n\n        .rain-drops {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n        }\n\n        .rain-drop {\n          position: absolute;\n          width: 2px;\n          height: 10px;\n          background: #60a5fa;\n          animation: rainDrop 1s infinite;\n        }\n\n        .snow-flake {\n          position: absolute;\n          width: 4px;\n          height: 4px;\n          background: #f8fafc;\n          border-radius: 50%;\n          animation: snowFall 2s infinite;\n        }\n\n        .glass-card {\n          background: rgba(255, 255, 255, 0.7);\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n        }\n\n        .weather-display {\n          background: linear-gradient(135deg, #6ea5ff 0%, #ffa071 100%);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .weather-display::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.2) 0%, transparent 80%);\n          pointer-events: none;\n        }\n\n        .floating-particles {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n        }\n\n        .particle {\n          position: absolute;\n          background: rgba(255, 255, 255, 0.3);\n          border-radius: 50%;\n          animation: float 20s infinite linear;\n        }\n\n        @keyframes float {\n          0% {\n            transform: translateY(0) rotate(0deg);\n          }\n          100% {\n            transform: translateY(-100vh) rotate(360deg);\n          }\n        }\n\n        .temp-value {\n          background: linear-gradient(135deg, #FF6B6B 0%, #4ECDC4 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n\n        .metric-card {\n          transition: all 0.3s ease;\n        }\n\n        .metric-card:hover {\n          transform: translateY(-5px);\n          box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\n        }\n\n        .metric-value {\n          background: linear-gradient(135deg, #2C3E50 0%, #3498DB 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n        }\n      `}</style>\n\n      {visible && (\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"absolute -left-10 top-4 hidden rounded-l-md rounded-r-none bg-white shadow-md transition-all duration-300 hover:bg-orange-50 hover:shadow-orange-100 md:flex group\"\n          onClick={() => setSidebarOpen(!sidebarOpen)}\n        >\n          <ChevronRight \n            className={`h-5 w-5 transition-all duration-300 ease-out \n              ${!sidebarOpen ? \"rotate-180\" : \"\"} \n              group-hover:scale-110 group-hover:text-orange-500`} \n          />\n        </Button>\n      )}\n\n      <Tabs defaultValue=\"info\" onValueChange={setActiveTab}>\n        <TabsList className=\"sticky top-0 z-10 grid w-full grid-cols-3 bg-white rounded-t-2xl p-1\">\n          <TabsTrigger \n            value=\"info\" \n            className=\"group flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-200 \n              data-[state=active]:bg-orange-50 data-[state=active]:text-orange-600 data-[state=active]:shadow-[0_0_20px_rgba(249,115,22,0.4)]\n              hover:scale-[1.02] active:scale-[0.98] data-[state=active]:animate-[wiggle_1s_ease-in-out_infinite]\"\n          >\n            <Info className=\"h-4 w-4 transition-transform duration-200 data-[state=active]:scale-110\" />\n            <span className=\"font-medium\">Info</span>\n          </TabsTrigger>\n          <TabsTrigger \n            value=\"weather\" \n            className=\"group flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-200 \n              data-[state=active]:bg-orange-50 data-[state=active]:text-orange-600 data-[state=active]:shadow-[0_0_20px_rgba(249,115,22,0.4)]\n              hover:scale-[1.02] active:scale-[0.98] data-[state=active]:animate-[wiggle_1s_ease-in-out_infinite]\"\n          >\n            <Cloud className=\"h-4 w-4 transition-transform duration-200 data-[state=active]:scale-110\" />\n            <span className=\"font-medium\">Weather</span>\n          </TabsTrigger>\n          <TabsTrigger \n            value=\"suggestions\" \n            className=\"group flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-200 \n              data-[state=active]:bg-orange-50 data-[state=active]:text-orange-600 data-[state=active]:shadow-[0_0_20px_rgba(249,115,22,0.4)]\n              hover:scale-[1.02] active:scale-[0.98] data-[state=active]:animate-[wiggle_1s_ease-in-out_infinite]\"\n          >\n            <Lightbulb className=\"h-4 w-4 transition-transform duration-200 data-[state=active]:scale-110\" />\n            <span className=\"font-medium\">Suggestions</span>\n          </TabsTrigger>\n        </TabsList>\n\n        <div className=\"p-4\">\n          <TabsContent \n            value=\"info\" \n            className=\" mt-0 transform transition-all duration-200 data-[state=inactive]:opacity-0 data-[state=active]:animate-in data-[state=inactive]:animate-out\"\n          >\n            <Card className=\"overflow-hidden border-1 shadow-lg\">\n              <CardHeader className=\"sticky top-0 z-10 pb-2 bg-gradient-to-r from-orange-50 to-amber-50\">\n                <CardTitle className=\"flex items-center gap-2 text-lg\">\n                  <div className=\"rounded-full bg-white p-2 shadow-sm\">\n                    <Info className=\"h-5 w-5 text-orange-500\" />\n                  </div>\n                  <div className=\"flex flex-col\">\n                    <span className=\"text-slate-700\">{selectedCity || \"Location\"}</span>\n                    <span className=\"text-sm font-normal text-slate-500\">{countyName ? `${countyName} County` : \"Select a location\"}</span>\n                  </div>\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"max-h-[calc(100vh-200px)] overflow-y-auto scrollbar-hide\">\n                {!isKnownCity ? renderNoDataMessage() : (\n                  <div className=\"space-y-6\">\n                    {/* Race Distribution Section */}\n                    <div className=\"space-y-3\">\n                      <h3 className=\"font-medium text-slate-700 flex items-center gap-2 mt-3\">\n                        <div className=\"h-2 w-2 rounded-full bg-orange-500\"></div>\n                        Top 3 Races\n                      </h3>\n                      <div className=\"space-y-2\">\n                        {raceData?.map((race, index) => (\n                          <div \n                            key={index} \n                            className=\"group relative overflow-hidden rounded-lg bg-slate-50 p-3 transition-all duration-300 hover:bg-orange-50\"\n                          >\n                            <div className=\"flex items-center justify-between\">\n                              <div className=\"flex items-center gap-3\">\n                                <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-white text-sm font-medium text-slate-700 shadow-sm\">\n                                  {index + 1}\n                                </div>\n                                <span className=\"font-medium text-slate-800\">{race.name}</span>\n                              </div>\n                              <span className=\"font-semibold text-orange-600\">{race.percentage}</span>\n                            </div>\n                            <div \n                              className=\"absolute bottom-0 left-0 h-1 bg-orange-200 transition-all duration-300 group-hover:bg-orange-400\"\n                              style={{ width: race.percentage }}\n                            />\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Key Statistics Grid */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      {[\n                        { label: \"Population\", value: countyData?.total_pop.toLocaleString() },\n                        { label: \"Median Income\", value: countyData ? `$${countyData.median_income.toLocaleString()}` : \"N/A\" },\n                        { label: \"Avg. Household Size\", value: countyData ? `${countyData.avg_household_size} people` : \"N/A\" },\n                        { label: \"Poverty Rate\", value: countyData ? `${countyData.poverty_pct}%` : \"N/A\" },\n                        { label: \"Homeless Population\", value: countyData ? countyData.total_homeless.toLocaleString() : \"N/A\" }\n                      ].map((stat, index) => (\n                        <div \n                          key={index}\n                          className=\"group relative overflow-hidden rounded-lg bg-gradient-to-br from-slate-50 to-white p-4 shadow-sm transition-all duration-300 hover:shadow-md hover:from-orange-50 hover:to-white\"\n                        >\n                          <h3 className=\"text-sm font-medium text-slate-500\">{stat.label}</h3>\n                          <p className=\"mt-1 text-2xl font-bold text-slate-800\">\n                            {stat.value}\n                          </p>\n                          <div className=\"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-orange-200 to-amber-200 opacity-0 transition-opacity duration-300 group-hover:opacity-100\" />\n                        </div>\n                      ))}\n                    </div>\n\n                    {/* Additional Metrics */}\n                    <div className=\"space-y-3\">\n                      <h3 className=\"font-medium text-slate-700 flex items-center gap-2\">\n                        <div className=\"h-2 w-2 rounded-full bg-orange-500\"></div>\n                        Additional Metrics\n                      </h3>\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        {[\n                          { label: \"Limited English\", value: countyData ? `${countyData.eng_less_than_very_well_pct}%` : \"N/A\" },\n                          { label: \"Social Vulnerability\", value: countyData ? countyData.svi.toFixed(2) : \"N/A\" }\n                        ].map((metric, index) => (\n                          <div \n                            key={index}\n                            className=\"group relative overflow-hidden rounded-lg bg-gradient-to-br from-slate-50 to-white p-3 shadow-sm transition-all duration-300 hover:shadow-md hover:from-orange-50 hover:to-white\"\n                          >\n                            <h3 className=\"text-sm font-medium text-slate-500\">{metric.label}</h3>\n                            <p className=\"mt-1 text-lg font-semibold text-slate-800\">\n                              {metric.value}\n                            </p>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent \n            value=\"weather\" \n            className=\"mt-0 transform transition-all duration-300\"\n          >\n            <div className=\"weather-display rounded-2xl p-6 relative min-h-[500px]\">\n              {/* Floating Particles Background */}\n              <div className=\"floating-particles\">\n                {[...Array(20)].map((_, i) => (\n                  <div\n                    key={i}\n                    className=\"particle\"\n                    style={{\n                      left: `${Math.random() * 100}%`,\n                      width: `${Math.random() * 10 + 5}px`,\n                      height: `${Math.random() * 10 + 5}px`,\n                      animationDelay: `${Math.random() * 20}s`,\n                      opacity: Math.random() * 0.5,\n                    }}\n                  />\n                ))}\n              </div>\n\n              {/* Main Content */}\n              <div className=\"relative z-10\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between mb-8\">\n                  <div className=\"flex items-center gap-3\">\n                    <motion.div\n                      initial={{ scale: 0 }}\n                      animate={{ scale: 1 }}\n                      transition={{ type: \"spring\", stiffness: 200, damping: 10 }}\n                      className=\"rounded-full bg-white/30 p-3 backdrop-blur-md\"\n                    >\n                      {getWeatherIcon(getWeatherCondition(weatherData?.current_temp || 0, weatherData?.precip || 0), 32)}\n                    </motion.div>\n                    <div>\n                      <h2 className=\"text-white text-2xl font-semibold\">Current Weather</h2>\n                      <p className=\"text-white/80\">{selectedCity}</p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-white/80 text-sm\">Last Updated</p>\n                    <p className=\"text-white font-medium\">{weatherData?.date || 'N/A'}</p>\n                  </div>\n                </div>\n\n                {/* Main Temperature Display */}\n                <motion.div \n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: 0.2 }}\n                  className=\"glass-card rounded-3xl p-8 mb-8 flex items-center justify-between\"\n                >\n                  <div>\n                    <div className=\"flex items-end gap-4\">\n                      <h1 className=\"temp-value text-7xl font-bold\">\n                        {formatTemperature(weatherData?.current_temp).replace('¬∞C', '')}¬∞\n                      </h1>\n                      <span className=\"text-4xl font-light text-slate-600 mb-2\">C</span>\n                    </div>\n                    <p className=\"text-xl text-slate-600 mt-2\">\n                      {getWeatherCondition(weatherData?.current_temp || 0, weatherData?.precip || 0)}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-slate-500\">Feels like</p>\n                    <p className=\"text-3xl font-semibold text-slate-700\">\n                      {formatTemperature(weatherData?.feels_like)}\n                    </p>\n                  </div>\n                </motion.div>\n\n                {/* Metrics Grid */}\n                <div className=\"grid grid-cols-3 gap-4\">\n                  {[\n                    {\n                      label: \"High\",\n                      value: formatTemperature(weatherData?.t_max),\n                      icon: <ArrowUp className=\"text-red-500\" />,\n                      color: \"from-red-500/10 to-orange-500/10\"\n                    },\n                    {\n                      label: \"Low\",\n                      value: formatTemperature(weatherData?.t_min),\n                      icon: <ArrowDown className=\"text-blue-500\" />,\n                      color: \"from-blue-500/10 to-cyan-500/10\"\n                    },\n                    {\n                      label: \"Humidity\",\n                      value: `${Math.round(weatherData?.humidity || 0)}%`,\n                      icon: <Droplets className=\"text-sky-500\" />,\n                      color: \"from-sky-500/10 to-blue-500/10\"\n                    },\n                    {\n                      label: \"Wind\",\n                      value: `${weatherData?.wind_max || 0} km/h`,\n                      icon: <WindIcon className=\"text-teal-500\" />,\n                      color: \"from-teal-500/10 to-green-500/10\"\n                    },\n                    {\n                      label: \"Gust\",\n                      value: `${weatherData?.gust_max || 0} km/h`,\n                      icon: <WindIcon className=\"text-emerald-500\" />,\n                      color: \"from-emerald-500/10 to-teal-500/10\"\n                    },\n                    {\n                      label: \"Precip.\",\n                      value: `${weatherData?.precip || 0} mm`,\n                      icon: <span className=\"text-xl\">üåßÔ∏è</span>,\n                      color: \"from-indigo-500/10 to-purple-500/10\",\n                      className: \"text-[0.95rem]\"\n                    }\n                  ].map((metric, index) => (\n                    <motion.div\n                      key={index}\n                      initial={{ opacity: 0, y: 20 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      transition={{ delay: 0.3 + index * 0.1 }}\n                      className={`metric-card glass-card rounded-2xl p-4 bg-gradient-to-br ${metric.color}`}\n                    >\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        {metric.icon}\n                        <span className={`text-slate-600 font-medium ${metric.className || ''}`}>{metric.label}</span>\n                      </div>\n                      <p className=\"metric-value text-2xl font-bold\">{metric.value}</p>\n                    </motion.div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </TabsContent>\n\n          <TabsContent \n            value=\"suggestions\" \n            className=\"mt-0 transform transition-all duration-200 data-[state=inactive]:opacity-0 data-[state=active]:animate-in data-[state=inactive]:animate-out\"\n          >\n            <Card className=\"border-1 shadow-lg\">\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"flex items-center gap-2 text-lg\">\n                  <div className=\"rounded-full bg-gradient-to-r from-orange-50 to-amber-50 p-2\">\n                    <Lightbulb className=\"h-5 w-5 text-orange-500\" />\n                  </div>\n                  <span>Suggestions</span>\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"relative\">\n                {!isKnownCity ? renderNoDataMessage() : (\n                  <>\n                    <div className=\"suggestions-container space-y-4 max-h-[400px] overflow-y-auto scrollbar-hide relative\">\n                      <div className=\"space-y-4\">\n                        {countySuggestions.map((suggestion, index) => (\n                          <div key={index}>\n                            {visibleSuggestions.includes(index) ? (\n                              <div \n                                className=\"rounded-lg border border-slate-200 bg-gradient-to-br from-white to-slate-50 p-4 shadow-sm transition-all duration-500 hover:shadow-md hover:border-orange-200 hover:from-orange-50 hover:to-white\"\n                                style={{\n                                  animation: 'slideIn 0.5s ease-out'\n                                }}\n                              >\n                                <div className=\"flex items-start gap-4\">\n                                  <div className=\"mt-1 rounded-full bg-gradient-to-br from-amber-100 to-orange-100 p-2 shadow-inner transition-transform duration-300 group-hover:scale-110\">\n                                    <Lightbulb className=\"h-5 w-5 text-orange-600\" />\n                                  </div>\n                                  <div className=\"flex-1\">\n                                    <p className=\"font-medium text-slate-800 text-lg mb-2\">{suggestion[0]}</p>\n                                    <div className=\"flex gap-3\">\n                                      <Button \n                                        variant=\"outline\" \n                                        size=\"sm\" \n                                        className=\"h-8 px-4 bg-white hover:bg-orange-50 hover:text-orange-600 hover:border-orange-200 transition-colors duration-300\"\n                                        onClick={() => {\n                                          if (onTakeAction && countyName) {\n                                            console.log(\"Take Action clicked for county:\", countyName);\n                                            onTakeAction(countyName);\n                                          } else {\n                                            console.log(\"Take Action clicked but onTakeAction or countyName is missing\", { onTakeAction, countyName });\n                                          }\n                                        }}\n                                      >\n                                        Take Action\n                                      </Button>\n                                      <Button \n                                        variant=\"ghost\" \n                                        size=\"sm\" \n                                        className=\"h-8 px-4 hover:bg-slate-100 hover:text-slate-900 transition-colors duration-300\"\n                                        onClick={() => window.open(suggestion[1], '_blank')}\n                                      >\n                                        Learn More\n                                      </Button>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            ) : index === visibleSuggestions.length && !allSuggestionsShown ? (\n                              <div \n                                className=\"rounded-lg border-slate-200 bg-gradient-to-br from-white to-slate-50 p-4 shadow-sm cursor-pointer hover:shadow-md hover:border-orange-200 transition-all duration-300\"\n                                onClick={() => {\n                                  if (!isLoading) {\n                                    setIsLoading(true)\n                                    setTimeout(() => {\n                                      setVisibleSuggestions(prev => {\n                                        const newSuggestions = [...prev, index];\n                                        if (newSuggestions.length === countySuggestions.length) {\n                                          setAllSuggestionsShown(true)\n                                        }\n                                        return newSuggestions;\n                                      })\n                                      setIsLoading(false)\n                                    }, 2000)\n                                  }\n                                }}\n                              >\n                                <div className=\"flex h-[90px] items-center justify-center\">\n                                  {isLoading ? (\n                                    <div className=\"relative\">\n                                      <div className=\"absolute -inset-2 rounded-full bg-gradient-to-r from-orange-100 to-amber-100 opacity-50 blur-lg animate-pulse\"></div>\n                                      <Loader2 className=\"h-8 w-8 animate-spin text-orange-500 relative\" />\n                                    </div>\n                                  ) : (\n                                    <div className=\"text-slate-400 flex items-center gap-2\">\n                                      <Lightbulb className=\"h-5 w-5\" />\n                                      <span>Click to reveal next suggestion</span>\n                                    </div>\n                                  )}\n                                </div>\n                              </div>\n                            ) : null}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                    {isScrollable && !isAtBottom && (\n                      <>\n                        <div \n                          className=\"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-white via-white/80 to-transparent pointer-events-none -z-10 transition-opacity duration-300 ease-in-out backdrop-blur-sm\"\n                          style={{ \n                            opacity: isScrollable && !isAtBottom ? '1' : '0'\n                          }} \n                        />\n                        <button \n                          onClick={handleScrollClick}\n                          className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center justify-center cursor-pointer group z-20 transition-all duration-300 ease-in-out animate-bounce\"\n                          style={{ \n                            opacity: isScrollable && !isAtBottom ? '1' : '0',\n                            transform: `translate(-50%, ${isScrollable && !isAtBottom ? '0' : '10px'})`\n                          }}\n                          aria-label=\"Scroll down\"\n                        >\n                          <div className=\"relative\">\n                            <div className=\"absolute inset-0 bg-orange-200 rounded-full blur-lg opacity-25 group-hover:opacity-40 transition-opacity duration-300\" />\n                            <div className=\"bg-white rounded-full p-2 shadow-lg transition-all duration-300 group-hover:bg-orange-50 group-hover:shadow-orange-100 relative\">\n                              <svg \n                                className=\"w-5 h-5 text-orange-500 transition-transform duration-300 group-hover:translate-y-0.5\" \n                                fill=\"none\" \n                                viewBox=\"0 0 24 24\" \n                                stroke=\"currentColor\"\n                                strokeWidth=\"2\"\n                              >\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 9l-7 7-7-7\" />\n                              </svg>\n                            </div>\n                          </div>\n                        </button>\n                      </>\n                    )}\n                  </>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </div>\n      </Tabs>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1736, "column": 0}, "map": {"version":3,"sources":["file:///Users/josephn/Desktop/firesight/components/MapboxMap.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport InfoSidebar from './InfoSidebar';\nimport type { Feature, Polygon } from 'geojson';\nimport weatherData from './result/weather_results.json';\nimport demographicData from './result/demographic_results.json';\nimport { Camera, ChevronLeft, Save, Mail, Loader2, X } from 'lucide-react';\n\n// Initialize Mapbox\nmapboxgl.accessToken = process.env.NEXT_PUBLIC_MAPBOX_TOKEN || '';\n\nconst CITY_COORDINATES = {\n  \"Yolo County, CA\": { longitude: -121.7405, latitude: 38.5449, zoom: 11 },\n  \"Los Angeles County, CA\": { longitude: -118.2437, latitude: 34.0522, zoom: 10 },\n  \"Monterey County, CA\": { longitude: -121.8947, latitude: 36.6005, zoom: 11 },\n  \"Shasta County, CA\": { longitude: -122.3784, latitude: 40.5865, zoom: 10 },\n  \"Kern County, CA\": { longitude: -119.0195, latitude: 35.3434, zoom: 10 },\n  \"Riverside County, CA\": { longitude: -117.3874, latitude: 33.9534, zoom: 10 },\n} as const;\n\n// County FIPS codes for California\nconst COUNTY_FIPS = {\n  \"Yolo County, CA\": \"113\",\n  \"Los Angeles County, CA\": \"037\",\n  \"Monterey County, CA\": \"053\",\n  \"Shasta County, CA\": \"089\",\n  \"Kern County, CA\": \"029\",\n  \"Riverside County, CA\": \"065\"\n} as const;\n\n// Calculate fire risk level based on weather and demographic data\nconst calculateFireRisk = (countyName: string): number => {\n  const county = countyName.replace(\", CA\", \"\");\n  const weather = weatherData[county as keyof typeof weatherData];\n  const demographics = demographicData[county as keyof typeof demographicData];\n  \n  if (!weather || !demographics) return 0;\n  \n  // Normalize and weight different risk factors\n  const tempRisk = Math.min((weather.t_max - 15) / 20, 1); // Higher risk above 35¬∞C\n  const windRisk = Math.min((weather.wind_max + weather.gust_max) / 100, 1); // Higher risk with strong winds\n  const precipRisk = Math.max(1 - weather.precip / 10, 0); // Lower risk with precipitation\n  const sviRisk = demographics.svi; // Social Vulnerability Index (already 0-1)\n  \n  // Combine risk factors (weights can be adjusted)\n  const totalRisk = (tempRisk * 0.3) + (windRisk * 0.3) + (precipRisk * 0.2) + (sviRisk * 0.2);\n  return Math.min(Math.max(totalRisk, 0), 1);\n};\n\n// County GeoJSON data with more accurate shapes\nconst COUNTY_BOUNDARIES: Record<string, Feature<Polygon>> = {\n  \"Shasta County, CA\": {\n    type: \"Feature\",\n    properties: { name: \"Shasta County\" },\n    geometry: {\n      type: \"Polygon\",\n      coordinates: [[\n        [-122.9424, 41.1846], // Northwest\n        [-122.5972, 41.1998], // North\n        [-121.8307, 41.1834], // Northeast\n        [-121.7082, 40.8940], // East\n        [-121.6271, 40.4913], // Southeast\n        [-121.9183, 40.2766], // South\n        [-122.3681, 40.1385], // Southwest\n        [-122.6826, 40.3824], // West\n        [-122.9424, 41.1846]  // Back to start\n      ]]\n    }\n  },\n  \"Los Angeles County, CA\": {\n    type: \"Feature\",\n    properties: { name: \"Los Angeles County\" },\n    geometry: {\n      type: \"Polygon\",\n      coordinates: [[\n        [-118.9429, 34.8180], // Northwest\n        [-118.1664, 34.8900], // North\n        [-117.6551, 34.8235], // Northeast\n        [-117.6551, 34.0222], // East\n        [-118.1555, 33.7032], // Southeast\n        [-118.4083, 33.7032], // South\n        [-118.6831, 33.9037], // Southwest\n        [-118.8853, 34.0768], // West\n        [-118.9429, 34.8180]  // Back to start\n      ]]\n    }\n  },\n  \"Yolo County, CA\": {\n    type: \"Feature\",\n    properties: { name: \"Yolo County\" },\n    geometry: {\n      type: \"Polygon\",\n      coordinates: [[\n        [-122.1571, 38.8634], // Northwest\n        [-121.9073, 38.8525], // North\n        [-121.7466, 38.8525], // Northeast\n        [-121.5914, 38.5796], // East\n        [-121.4966, 38.3033], // Southeast\n        [-121.6847, 38.2924], // South\n        [-121.8618, 38.2924], // Southwest\n        [-122.0460, 38.5796], // West\n        [-122.1571, 38.8634]  // Back to start\n      ]]\n    }\n  },\n  \"Monterey County, CA\": {\n    type: \"Feature\",\n    properties: { name: \"Monterey County\" },\n    geometry: {\n      type: \"Polygon\",\n      coordinates: [[\n        [-121.9073, 36.9107], // Northwest\n        [-121.4582, 36.9107], // North\n        [-121.1429, 36.7305], // Northeast\n        [-120.8987, 36.3919], // East\n        [-121.2473, 35.9079], // Southeast\n        [-121.4692, 35.7932], // South\n        [-121.8508, 35.9189], // Southwest\n        [-121.9347, 36.3373], // West\n        [-121.9073, 36.9107]  // Back to start\n      ]]\n    }\n  },\n  \"Kern County, CA\": {\n    type: \"Feature\",\n    properties: { name: \"Kern County\" },\n    geometry: {\n      type: \"Polygon\",\n      coordinates: [[\n        [-119.9183, 35.7891], // Northwest\n        [-119.4424, 35.8998], // North\n        [-118.9307, 35.8834], // Northeast\n        [-118.7082, 35.5940], // East\n        [-118.4271, 35.2913], // Southeast\n        [-118.5183, 34.9766], // South\n        [-119.1681, 34.8385], // Southwest\n        [-119.6826, 35.0824], // West\n        [-119.9183, 35.7891]  // Back to start\n      ]]\n    }\n  },\n  \"Riverside County, CA\": {\n    type: \"Feature\",\n    properties: { name: \"Riverside County\" },\n    geometry: {\n      type: \"Polygon\",\n      coordinates: [[\n        [-117.5, 34.0], // Northwest near San Bernardino Forest\n        [-117.1, 34.1], // North near Big Bear\n        [-116.5, 34.1], // North central\n        [-115.5, 34.1], // Northeast near Joshua Tree\n        [-114.7, 34.3], // Far northeast at Colorado River\n        [-114.6, 34.1], // East at Colorado River\n        [-114.5, 33.8], // Southeast at Colorado River\n        [-114.7, 33.4], // Far southeast at Blythe\n        [-115.5, 33.2], // South near Salton Sea\n        [-116.1, 33.4], // South central\n        [-116.8, 33.4], // Southwest near mountains\n        [-117.2, 33.5], // Southwest near coast\n        [-117.5, 33.7], // West near Laguna Beach\n        [-117.6, 33.9], // Northwest near Anaheim\n        [-117.5, 34.0]  // Back to start\n      ]]\n    }\n  }\n};\n\n// High-risk zones within counties\nconst HIGH_RISK_ZONES: Record<string, Array<Feature<Polygon>>> = {\n  \"Shasta County, CA\": [\n    {\n      type: \"Feature\" as const,\n      properties: { name: \"High Risk Zone 1\", riskLevel: 0.9 },\n      geometry: {\n        type: \"Polygon\" as const,\n        coordinates: [[\n          [-122.5, 40.8],\n          [-122.4, 40.85],\n          [-122.3, 40.82],\n          [-122.25, 40.78],\n          [-122.3, 40.75],\n          [-122.35, 40.72],\n          [-122.4, 40.65],\n          [-122.45, 40.68],\n          [-122.5, 40.75],\n          [-122.5, 40.8]\n        ]]\n      }\n    },\n    {\n      type: \"Feature\" as const,\n      properties: { name: \"High Risk Zone 2\", riskLevel: 0.85 },\n      geometry: {\n        type: \"Polygon\" as const,\n        coordinates: [[\n          [-122.0, 40.7],\n          [-121.95, 40.72],\n          [-121.9, 40.68],\n          [-121.85, 40.65],\n          [-121.8, 40.62],\n          [-121.85, 40.58],\n          [-121.9, 40.55],\n          [-121.95, 40.52],\n          [-122.0, 40.55],\n          [-122.0, 40.7]\n        ]]\n      }\n    }\n  ],\n  \"Los Angeles County, CA\": [\n    {\n      type: \"Feature\" as const,\n      properties: { name: \"High Risk Zone 1\", riskLevel: 0.95 },\n      geometry: {\n        type: \"Polygon\" as const,\n        coordinates: [[\n          [-118.5, 34.5],\n          [-118.45, 34.52],\n          [-118.4, 34.48],\n          [-118.35, 34.45],\n          [-118.3, 34.42],\n          [-118.35, 34.38],\n          [-118.4, 34.35],\n          [-118.45, 34.32],\n          [-118.5, 34.35],\n          [-118.5, 34.5]\n        ]]\n      }\n    }\n  ],\n  \"Yolo County, CA\": [\n    {\n      type: \"Feature\" as const,\n      properties: { name: \"High Risk Zone 1\", riskLevel: 0.8 },\n      geometry: {\n        type: \"Polygon\" as const,\n        coordinates: [[\n          [-121.9, 38.7],\n          [-121.85, 38.72],\n          [-121.8, 38.68],\n          [-121.75, 38.65],\n          [-121.7, 38.62],\n          [-121.75, 38.58],\n          [-121.8, 38.55],\n          [-121.85, 38.52],\n          [-121.9, 38.55],\n          [-121.9, 38.7]\n        ]]\n      }\n    }\n  ],\n  \"Monterey County, CA\": [\n    {\n      type: \"Feature\" as const,\n      properties: { name: \"High Risk Zone 1\", riskLevel: 0.87 },\n      geometry: {\n        type: \"Polygon\" as const,\n        coordinates: [[\n          [-121.5, 36.5],\n          [-121.45, 36.52],\n          [-121.4, 36.48],\n          [-121.35, 36.45],\n          [-121.3, 36.42],\n          [-121.35, 36.38],\n          [-121.4, 36.35],\n          [-121.45, 36.32],\n          [-121.5, 36.35],\n          [-121.5, 36.5]\n        ]]\n      }\n    }\n  ],\n  \"Kern County, CA\": [\n    {\n      type: \"Feature\" as const,\n      properties: { name: \"High Risk Zone 1\", riskLevel: 0.92 },\n      geometry: {\n        type: \"Polygon\" as const,\n        coordinates: [[\n          [-119.5, 35.5],\n          [-119.45, 35.52],\n          [-119.4, 35.48],\n          [-119.35, 35.45],\n          [-119.3, 35.42],\n          [-119.35, 35.38],\n          [-119.4, 35.35],\n          [-119.45, 35.32],\n          [-119.5, 35.35],\n          [-119.5, 35.5]\n        ]]\n      }\n    }\n  ],\n  \"Riverside County, CA\": [\n    {\n      type: \"Feature\" as const,\n      properties: { name: \"High Risk Zone 1\", riskLevel: 0.88 },\n      geometry: {\n        type: \"Polygon\" as const,\n        coordinates: [[\n          [-117.0, 33.9],\n          [-116.95, 33.92],\n          [-116.9, 33.88],\n          [-116.85, 33.85],\n          [-116.8, 33.82],\n          [-116.85, 33.78],\n          [-116.9, 33.75],\n          [-116.95, 33.72],\n          [-117.0, 33.75],\n          [-117.0, 33.9]\n        ]]\n      }\n    }\n  ]\n};\n\ninterface MapboxMapProps {\n  onCitySelect?: (city: string) => void;\n}\n\nexport default function MapboxMap({ onCitySelect }: MapboxMapProps) {\n  const mapContainer = useRef<HTMLDivElement>(null);\n  const map = useRef<mapboxgl.Map | null>(null);\n  const [searchInput, setSearchInput] = useState('');\n  const markersRef = useRef<mapboxgl.Marker[]>([]);\n  const targetMarkersRef = useRef<mapboxgl.Marker[]>([]);\n  const [selectedCity, setSelectedCity] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isCollapsed, setIsCollapsed] = useState(true);\n  const [showInfoSidebar, setShowInfoSidebar] = useState(false);\n  const [showScreenshotPopup, setShowScreenshotPopup] = useState(false);\n  const [screenshotUrl, setScreenshotUrl] = useState<string | null>(null);\n  const [isCapturingScreenshot, setIsCapturingScreenshot] = useState(false);\n\n  // Initialize map\n  useEffect(() => {\n    if (!mapContainer.current || map.current) return;\n\n    const newMap = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v12',\n      center: [-119.4179, 36.7783], // California center\n      zoom: 5.5, // Good zoom level to see all of California\n      preserveDrawingBuffer: true\n    });\n\n    // Add zoom controls to bottom right\n    newMap.addControl(new mapboxgl.NavigationControl(), 'bottom-right');\n\n    map.current = newMap;\n\n    // Add markers once map is loaded\n    newMap.on('load', () => {\n      // Calculate fire risk for all counties and add to features\n      const featuresWithRisk = Object.entries(COUNTY_BOUNDARIES).map(([cityName, feature]) => ({\n        ...feature,\n        properties: {\n          ...feature.properties,\n          fireRisk: calculateFireRisk(cityName)\n        }\n      }));\n\n      // Add county boundaries source first\n      newMap.addSource('counties', {\n        type: 'geojson',\n        data: {\n          type: 'FeatureCollection',\n          features: featuresWithRisk\n        }\n      });\n\n      // Add high-risk zones source\n      newMap.addSource('high-risk-zones', {\n        type: 'geojson',\n        data: {\n          type: 'FeatureCollection',\n          features: Object.values(HIGH_RISK_ZONES).flat()\n        }\n      });\n\n      // Add county fill layer first (underneath everything)\n      newMap.addLayer({\n        id: 'county-fill',\n        type: 'fill',\n        source: 'counties',\n        paint: {\n          'fill-color': 'rgba(255, 165, 0, 0.2)'  // Light orange color with 20% opacity\n        }\n      });\n\n      // Add high-risk zones layer\n      newMap.addLayer({\n        id: 'high-risk-zones',\n        type: 'fill',\n        source: 'high-risk-zones',\n        paint: {\n          'fill-color': 'rgba(255, 0, 0, 0.4)',\n          'fill-outline-color': 'rgba(255, 0, 0, 0.8)'\n        }\n      });\n\n      // Add county boundaries layer on top\n      newMap.addLayer({\n        id: 'county-boundaries',\n        type: 'line',\n        source: 'counties',\n        paint: {\n          'line-color': '#FF6B35',\n          'line-width': 2,\n          'line-opacity': 0.67\n        }\n      });\n\n      // Initially hide all layers\n      newMap.setLayoutProperty('county-boundaries', 'visibility', 'none');\n      newMap.setLayoutProperty('county-fill', 'visibility', 'none');\n      newMap.setLayoutProperty('high-risk-zones', 'visibility', 'none');\n\n      // Add markers for each city\n      Object.entries(CITY_COORDINATES).forEach(([cityName, coords]) => {\n        const marker = new mapboxgl.Marker()\n          .setLngLat([coords.longitude, coords.latitude])\n          .addTo(newMap);\n\n        const popup = new mapboxgl.Popup({ offset: 25 })\n          .setHTML(`<h3 class=\"text-sm font-semibold\">${cityName}</h3>`);\n\n        marker.setPopup(popup);\n        markersRef.current.push(marker);\n\n        marker.getElement().addEventListener('click', () => {\n          navigateToCity(cityName as keyof typeof CITY_COORDINATES);\n        });\n      });\n    });\n\n    return () => {\n      markersRef.current.forEach(marker => marker.remove());\n      targetMarkersRef.current.forEach(marker => marker.remove());\n      markersRef.current = [];\n      targetMarkersRef.current = [];\n      if (map.current) {\n        map.current.remove();\n        map.current = null;\n      }\n    };\n  }, []);\n\n  // Handle predefined city navigation\n  const navigateToCity = (cityName: keyof typeof CITY_COORDINATES) => {\n    if (!map.current) return;\n    \n    const coords = CITY_COORDINATES[cityName];\n    setSelectedCity(cityName);\n    setShowInfoSidebar(true);\n    setIsCollapsed(true);\n    \n    if (onCitySelect) {\n      onCitySelect(cityName);\n    }\n\n    // Clear any existing target markers\n    targetMarkersRef.current.forEach(marker => marker.remove());\n    targetMarkersRef.current = [];\n\n    // Show the layers only for the selected county\n    map.current.setLayoutProperty('county-boundaries', 'visibility', 'visible');\n    map.current.setLayoutProperty('county-fill', 'visibility', 'visible');\n    map.current.setLayoutProperty('high-risk-zones', 'visibility', 'visible');\n\n    // Get the county name without \", CA\" suffix\n    const countyName = cityName.replace(', CA', '');\n\n    // Calculate fire risk for the selected county\n    const fireRisk = calculateFireRisk(cityName);\n\n    // Update the source data to include fire risk\n    const countyFeature = COUNTY_BOUNDARIES[cityName];\n    if (countyFeature) {\n      countyFeature.properties = {\n        ...countyFeature.properties,\n        fireRisk: fireRisk\n      };\n    }\n\n    // Update source data to show only the selected county\n    if (map.current.getSource('counties')) {\n      (map.current.getSource('counties') as mapboxgl.GeoJSONSource).setData({\n        type: 'FeatureCollection',\n        features: [countyFeature]\n      });\n    }\n\n    // Update high-risk zones to show only for selected county\n    if (map.current.getSource('high-risk-zones')) {\n      const countyRiskZones = HIGH_RISK_ZONES[cityName] || [];\n      (map.current.getSource('high-risk-zones') as mapboxgl.GeoJSONSource).setData({\n        type: 'FeatureCollection',\n        features: countyRiskZones\n      });\n    }\n\n    // Update filters to show only the selected county\n    const filter: mapboxgl.FilterSpecification = ['==', ['get', 'name'], countyName];\n    map.current.setFilter('county-boundaries', filter);\n    map.current.setFilter('county-fill', filter);\n\n    map.current.flyTo({\n      center: [coords.longitude, coords.latitude],\n      zoom: coords.zoom,\n      duration: 2000,\n      essential: true\n    });\n  };\n\n  // Handle general location search\n  const handleSearch = async () => {\n    if (!searchInput || !map.current) return;\n\n    const searchTerm = searchInput.toLowerCase().trim();\n    setIsLoading(true);\n\n    // First check if it's one of our predefined cities\n    const cityName = Object.keys(CITY_COORDINATES).find(city => \n      city.toLowerCase().includes(searchTerm)\n    );\n\n    if (cityName) {\n      navigateToCity(cityName as keyof typeof CITY_COORDINATES);\n      setSearchInput('');\n      setIsLoading(false);\n      setTimeout(() => {\n        setIsCollapsed(true);\n        setShowInfoSidebar(true);\n      }, 300);\n      return;\n    }\n\n    // If not a predefined city, hide all layers\n    map.current.setLayoutProperty('county-boundaries', 'visibility', 'none');\n    map.current.setLayoutProperty('county-fill', 'visibility', 'none');\n    map.current.setLayoutProperty('high-risk-zones', 'visibility', 'none');\n\n    // If not a predefined city, search using Mapbox Geocoding API\n    try {\n      const response = await fetch(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(\n          searchInput\n        )}.json?access_token=${mapboxgl.accessToken}&limit=1`\n      );\n      const data = await response.json();\n\n      if (data.features && data.features.length > 0) {\n        const [longitude, latitude] = data.features[0].center;\n        const placeName = data.features[0].place_name;\n\n        setSelectedCity(placeName);\n        \n        if (onCitySelect) {\n          onCitySelect(placeName);\n        }\n\n        map.current.flyTo({\n          center: [longitude, latitude],\n          zoom: 13,\n          duration: 2000,\n          essential: true\n        });\n\n        setSearchInput('');\n        setTimeout(() => {\n          setIsCollapsed(true);\n          setShowInfoSidebar(true);\n        }, 300);\n      }\n    } catch (error) {\n      console.error('Error searching location:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Function to take a screenshot of the map\n  const takeScreenshot = async () => {\n    if (!map.current) return;\n    \n    setIsCapturingScreenshot(true);\n    \n    try {\n      // Wait for the map to be fully rendered\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Force the map to render a frame\n      map.current.triggerRepaint();\n      \n      // Get the map canvas\n      const mapCanvas = map.current.getCanvas();\n      \n      // Create a new canvas with the same dimensions\n      const canvas = document.createElement('canvas');\n      canvas.width = mapCanvas.width;\n      canvas.height = mapCanvas.height;\n      \n      // Get the context and draw the map canvas onto it\n      const ctx = canvas.getContext('2d', { willReadFrequently: true });\n      if (!ctx) {\n        throw new Error('Could not get canvas context');\n      }\n      \n      // Clear the canvas first\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      // Draw the map canvas\n      ctx.drawImage(mapCanvas, 0, 0);\n      \n      // Convert to data URL\n      const dataUrl = map.current.getCanvas().toDataURL('image/png');\n      \n      // Check if the data URL is valid (not blank)\n      if (dataUrl === 'data:,') {\n        throw new Error('Screenshot is blank. The map may not be fully rendered.');\n      }\n      \n      setScreenshotUrl(dataUrl);\n      setShowScreenshotPopup(true);\n    } catch (error) {\n      console.error('Error taking screenshot:', error);\n      alert('Failed to capture screenshot. Please try again.');\n    } finally {\n      setIsCapturingScreenshot(false);\n    }\n  };\n  \n  // Function to save screenshot to computer\n  const saveScreenshot = () => {\n    if (!screenshotUrl) return;\n    \n    // Create a link element\n    const link = document.createElement('a');\n    link.href = screenshotUrl;\n    link.download = `firesight-map-${new Date().toISOString().slice(0, 10)}.png`;\n    \n    // Trigger download\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    \n    // Close popup\n    setShowScreenshotPopup(false);\n  };\n  \n  // Function to handle email button click (placeholder for now)\n  const handleEmailClick = () => {\n    // This would be implemented later\n    setShowScreenshotPopup(false);\n  };\n\n  // Function to generate a random point within a polygon\n  const generateRandomPointInPolygon = (polygon: Feature<Polygon>): [number, number] => {\n    console.log(\"Generating random point in polygon:\", polygon);\n    \n    const coordinates = polygon.geometry.coordinates[0]; // Get the first ring of the polygon\n    console.log(\"Polygon coordinates:\", coordinates);\n    \n    const bounds = {\n      minLng: Math.min(...coordinates.map(coord => coord[0])),\n      maxLng: Math.max(...coordinates.map(coord => coord[0])),\n      minLat: Math.min(...coordinates.map(coord => coord[1])),\n      maxLat: Math.max(...coordinates.map(coord => coord[1]))\n    };\n    \n    console.log(\"Polygon bounds:\", bounds);\n    \n    // Generate a random point within the bounding box\n    let point: [number, number] = [0, 0]; // Initialize with default values\n    let isInside = false;\n    let attempts = 0;\n    const maxAttempts = 100; // Prevent infinite loops\n    \n    // Keep generating points until we find one inside the polygon\n    while (!isInside && attempts < maxAttempts) {\n      const lng = bounds.minLng + Math.random() * (bounds.maxLng - bounds.minLng);\n      const lat = bounds.minLat + Math.random() * (bounds.maxLat - bounds.minLat);\n      point = [lng, lat];\n      \n      // Check if the point is inside the polygon using ray casting algorithm\n      isInside = isPointInPolygon(point, coordinates);\n      attempts++;\n    }\n    \n    if (!isInside) {\n      console.warn(\"Failed to generate a point inside the polygon after\", maxAttempts, \"attempts. Using center point.\");\n      // Use the center of the bounding box as a fallback\n      point = [\n        (bounds.minLng + bounds.maxLng) / 2,\n        (bounds.minLat + bounds.maxLat) / 2\n      ];\n    }\n    \n    console.log(\"Generated point:\", point);\n    return point;\n  };\n\n  // Ray casting algorithm to check if a point is inside a polygon\n  const isPointInPolygon = (point: [number, number], polygon: number[][]): boolean => {\n    const [x, y] = point;\n    let inside = false;\n    \n    // Make sure we have a valid polygon\n    if (!polygon || polygon.length < 3) {\n      console.error(\"Invalid polygon:\", polygon);\n      return false;\n    }\n    \n    for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n      const [xi, yi] = polygon[i];\n      const [xj, yj] = polygon[j];\n      \n      // Check if the point is on the edge of the polygon\n      if ((yi === y && yj === y) && ((x >= xi && x <= xj) || (x >= xj && x <= xi))) {\n        return true;\n      }\n      \n      const intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n      if (intersect) inside = !inside;\n    }\n    \n    return inside;\n  };\n\n  // Function to add random targets within a county\n  const addRandomTargets = (countyName: string) => {\n    console.log(\"addRandomTargets called with county:\", countyName);\n    \n    if (!map.current) {\n      console.error(\"Map is not initialized\");\n      return;\n    }\n    \n    // Convert county name to the format used in COUNTY_BOUNDARIES\n    const formattedCountyName = `${countyName} County, CA`;\n    console.log(\"Looking for county with name:\", formattedCountyName);\n    \n    // Get the county feature\n    const countyFeature = COUNTY_BOUNDARIES[formattedCountyName as keyof typeof COUNTY_BOUNDARIES];\n    if (!countyFeature) {\n      console.error(\"County feature not found for:\", formattedCountyName);\n      return;\n    }\n    \n    console.log(\"County feature found:\", countyFeature);\n    \n    // Clear existing target markers only\n    console.log(\"Clearing existing target markers:\", targetMarkersRef.current.length);\n    targetMarkersRef.current.forEach(marker => marker.remove());\n    targetMarkersRef.current = [];\n    \n    // Generate 4-8 random points within the county\n    const numTargets = Math.floor(Math.random() * 5) + 4; // Random number between 4 and 8\n    console.log(\"Generating\", numTargets, \"targets\");\n    const targets: [number, number][] = [];\n    \n    for (let i = 0; i < numTargets; i++) {\n      const point = generateRandomPointInPolygon(countyFeature);\n      targets.push(point);\n      console.log(\"Generated target\", i+1, \"at:\", point);\n    }\n    \n    // Add markers for each target\n    targets.forEach((point, index) => {\n      console.log(\"Adding marker for target\", index+1, \"at:\", point);\n      const marker = new mapboxgl.Marker({\n        color: '#FF4500', // Orange-red color\n        scale: 0.8\n      })\n        .setLngLat(point)\n        .addTo(map.current!);\n      \n      const popup = new mapboxgl.Popup({ offset: 25 })\n        .setHTML(`<h3 class=\"text-sm font-semibold\">Target ${index + 1}</h3>`);\n      \n      marker.setPopup(popup);\n      targetMarkersRef.current.push(marker); // Add to target markers ref instead\n    });\n    \n    // Zoom to the county\n    const coords = CITY_COORDINATES[formattedCountyName as keyof typeof CITY_COORDINATES];\n    if (coords) {\n      console.log(\"Zooming to county at:\", coords);\n      map.current.flyTo({\n        center: [coords.longitude, coords.latitude],\n        zoom: coords.zoom,\n        duration: 2000,\n        essential: true\n      });\n    } else {\n      console.error(\"Coordinates not found for county:\", formattedCountyName);\n    }\n  };\n\n  return (\n    <div className=\"relative w-full h-full\">\n      <div className=\"absolute top-4 left-4 z-10\">\n        <div className=\"flex gap-2\">\n          <div \n            className={`flex items-center transition-all duration-300 ease-out\n              ${isCollapsed ? 'w-12 scale-95' : 'w-[400px] bg-white/90 backdrop-blur-sm rounded-full shadow-lg border border-gray-100'}\n              ${isCollapsed ? '' : 'px-4 py-2'}`}\n          >\n            {!isCollapsed ? (\n              <>\n                <input\n                  type=\"text\"\n                  value={searchInput}\n                  onChange={(e) => setSearchInput(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\n                  placeholder=\"Search for any location...\"\n                  className=\"flex-1 bg-transparent text-slate-600 placeholder:text-slate-400 focus:outline-none\"\n                  disabled={isLoading}\n                />\n                <div className=\"flex items-center gap-2 ml-2\">\n                  <button\n                    onClick={handleSearch}\n                    disabled={isLoading}\n                    className={`text-slate-600 text-base font-medium focus:outline-none disabled:text-slate-300 \n                      transition-all duration-300 relative group overflow-hidden\n                      ${searchInput ? 'px-4 py-1.5 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-full shadow-sm hover:shadow-md hover:-translate-y-0.5 active:translate-y-0' : 'hover:text-orange-500'}`}\n                  >\n                    {isLoading ? (\n                      'Searching...'\n                    ) : (\n                      <>\n                        <span className={`relative z-10 ${searchInput ? 'animate-pulse' : ''}`}>Search</span>\n                        {searchInput && (\n                          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out\" />\n                        )}\n                      </>\n                    )}\n                  </button>\n                  <div className=\"w-px h-4 bg-slate-200\"/>\n                  <button\n                    onClick={() => setIsCollapsed(true)}\n                    className=\"text-slate-400 hover:text-orange-500 focus:outline-none \n                      transition-all duration-200 hover:scale-105 active:scale-95\"\n                  >\n                    <ChevronLeft className=\"h-5 w-5\" />\n                  </button>\n                </div>\n              </>\n            ) : (\n              <button\n                onClick={() => {\n                  setIsCollapsed(false);\n                  setShowInfoSidebar(false);\n                }}\n                className=\"w-12 h-12 flex items-center justify-center bg-white rounded-full shadow-lg \n                  transition-all duration-200 hover:scale-110 active:scale-95 hover:shadow-lg group\"\n              >\n                <svg \n                  xmlns=\"http://www.w3.org/2000/svg\" \n                  className=\"h-5 w-5 text-slate-400 transition-colors duration-200 group-hover:text-orange-500\" \n                  fill=\"none\" \n                  viewBox=\"0 0 24 24\" \n                  stroke=\"currentColor\"\n                  strokeWidth={2}\n                >\n                  <path \n                    strokeLinecap=\"round\" \n                    strokeLinejoin=\"round\" \n                    d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" \n                  />\n                </svg>\n              </button>\n            )}\n          </div>\n          \n          {isCollapsed && (\n            <button\n              onClick={takeScreenshot}\n              disabled={isCapturingScreenshot}\n              className=\"w-12 h-12 flex items-center justify-center bg-white rounded-full shadow-lg \n                transition-all duration-200 hover:scale-110 active:scale-95 hover:shadow-lg group\n                disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isCapturingScreenshot ? (\n                <Loader2 className=\"h-5 w-5 text-slate-400 animate-spin\" />\n              ) : (\n                <Camera \n                  className=\"h-5 w-5 text-slate-400 transition-colors duration-200 group-hover:text-orange-500\" \n                />\n              )}\n            </button>\n          )}\n        </div>\n      </div>\n      \n      <div ref={mapContainer} className=\"w-full h-full\" />\n      <div className=\"absolute right-0 top-0 h-full\">\n        <InfoSidebar \n          selectedCity={selectedCity || \"Location\"} \n          visible={showInfoSidebar} \n          onTakeAction={addRandomTargets}\n        />\n      </div>\n\n      {/* Screenshot Popup */}\n      {showScreenshotPopup && (\n        <div className=\"fixed inset-0 bg-transparent backdrop-blur-[2px] flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl p-6 max-w-md w-full\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">Map Screenshot</h3>\n              <button \n                onClick={() => setShowScreenshotPopup(false)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                <X className=\"h-5 w-5\" />\n              </button>\n            </div>\n            \n            {screenshotUrl && (\n              <div className=\"mb-4 border border-gray-200 rounded overflow-hidden\">\n                <img \n                  src={screenshotUrl} \n                  alt=\"Map Screenshot\" \n                  className=\"w-full h-auto\"\n                />\n              </div>\n            )}\n            \n            <div className=\"flex justify-between\">\n              <button\n                onClick={saveScreenshot}\n                className=\"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none transition-all duration-300\"\n              >\n                <Save className=\"h-4 w-4\" />\n                <span>Save</span>\n              </button>\n              \n              <button\n                onClick={handleEmailClick}\n                className=\"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none transition-all duration-300\"\n              >\n                <Mail className=\"h-4 w-4\" />\n                <span>Email</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n} \n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3295, "column": 0}, "map": {"version":3,"sources":["file:///Users/josephn/Desktop/firesight/components/WelcomePage.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from \"react\";\nimport { Flame } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\ninterface WelcomePageProps {\n  onComplete: () => void;\n}\n\nexport default function WelcomePage({ onComplete }: WelcomePageProps) {\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setProgress((prev) => {\n        if (prev >= 100) {\n          clearInterval(timer);\n          setTimeout(() => onComplete(), 200);\n          return 100;\n        }\n        return prev + 2;\n      });\n    }, 50);\n\n    return () => clearInterval(timer);\n  }, [onComplete]);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      transition={{ duration: 0.4 }}\n      className=\"absolute inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800\"\n    >\n      <div className=\"relative w-full max-w-2xl px-8\">\n        <motion.div\n          initial={{ y: 20, opacity: 0 }}\n          animate={{ y: 0, opacity: 1 }}\n          transition={{ duration: 0.5, ease: \"easeOut\" }}\n          className=\"rounded-2xl bg-[#252b3d]/50 p-12 backdrop-blur-sm\"\n        >\n          <div className=\"flex items-center gap-6\">\n            <div className=\"relative flex h-16 w-16 items-center justify-center\">\n              <motion.div\n                animate={{\n                  scale: [1, 1.2, 1],\n                  opacity: [0.4, 0.2, 0.4],\n                }}\n                transition={{\n                  repeat: Infinity,\n                  duration: 1.75,\n                  ease: \"easeInOut\",\n                }}\n                className=\"absolute\"\n              >\n                <Flame className=\"h-[72px] w-[72px] text-orange-400\" />\n              </motion.div>\n              <Flame className=\"absolute h-16 w-16 text-orange-500\" />\n            </div>\n            <div>\n              <h1 className=\"text-6xl font-bold text-white\">\n                Firesight\n                <motion.span\n                  animate={{ opacity: [1, 0, 1] }}\n                  transition={{\n                    repeat: Infinity,\n                    duration: 1.25,\n                    ease: \"easeInOut\",\n                  }}\n                  className=\"ml-2 inline-block h-[6px] w-8 bg-orange-500\"\n                />\n              </h1>\n              <p className=\"mt-2 text-lg text-slate-400\">\n                Data-driven wildfire strategy\n              </p>\n            </div>\n          </div>\n\n          <div className=\"mt-16\">\n            <div className=\"mb-2 flex justify-between text-sm text-slate-400\">\n              <span>Initializing system</span>\n              <span>{Math.round(progress)}%</span>\n            </div>\n            <div className=\"h-1 overflow-hidden rounded-full bg-slate-800\">\n              <motion.div\n                className=\"h-full origin-left bg-orange-500\"\n                style={{ width: `${progress}%` }}\n              />\n            </div>\n            <div className=\"mt-6 flex justify-center gap-2\">\n              {[0, 1, 2].map((i) => (\n                <motion.div\n                  key={i}\n                  className=\"h-1.5 w-1.5 rounded-full bg-orange-500\"\n                  animate={{ opacity: [0.3, 1, 0.3] }}\n                  transition={{\n                    repeat: Infinity,\n                    duration: 1.5,\n                    delay: i * 0.3,\n                    ease: \"easeInOut\",\n                  }}\n                />\n              ))}\n            </div>\n          </div>\n        </motion.div>\n      </div>\n    </motion.div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAUe,SAAS,YAAY,EAAE,UAAU,EAAoB;;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,MAAM,QAAQ;+CAAY;oBACxB;uDAAY,CAAC;4BACX,IAAI,QAAQ,KAAK;gCACf,cAAc;gCACd;mEAAW,IAAM;kEAAc;gCAC/B,OAAO;4BACT;4BACA,OAAO,OAAO;wBAChB;;gBACF;8CAAG;YAEH;yCAAO,IAAM,cAAc;;QAC7B;gCAAG;QAAC;KAAW;IAEf,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;QAAE;QACtB,SAAS;YAAE,SAAS;QAAE;QACtB,MAAM;YAAE,SAAS;QAAE;QACnB,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAU;kBAEV,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,GAAG;oBAAI,SAAS;gBAAE;gBAC7B,SAAS;oBAAE,GAAG;oBAAG,SAAS;gBAAE;gBAC5B,YAAY;oBAAE,UAAU;oBAAK,MAAM;gBAAU;gBAC7C,WAAU;;kCAEV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;wCACT,SAAS;4CACP,OAAO;gDAAC;gDAAG;gDAAK;6CAAE;4CAClB,SAAS;gDAAC;gDAAK;gDAAK;6CAAI;wCAC1B;wCACA,YAAY;4CACV,QAAQ;4CACR,UAAU;4CACV,MAAM;wCACR;wCACA,WAAU;kDAEV,cAAA,6LAAC,uMAAA,CAAA,QAAK;4CAAC,WAAU;;;;;;;;;;;kDAEnB,6LAAC,uMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;;;;;;;;0CAEnB,6LAAC;;kDACC,6LAAC;wCAAG,WAAU;;4CAAgC;0DAE5C,6LAAC,6LAAA,CAAA,SAAM,CAAC,IAAI;gDACV,SAAS;oDAAE,SAAS;wDAAC;wDAAG;wDAAG;qDAAE;gDAAC;gDAC9B,YAAY;oDACV,QAAQ;oDACR,UAAU;oDACV,MAAM;gDACR;gDACA,WAAU;;;;;;;;;;;;kDAGd,6LAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;;;;;;;kCAM/C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;kDAAK;;;;;;kDACN,6LAAC;;4CAAM,KAAK,KAAK,CAAC;4CAAU;;;;;;;;;;;;;0CAE9B,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oCACT,WAAU;oCACV,OAAO;wCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;oCAAC;;;;;;;;;;;0CAGnC,6LAAC;gCAAI,WAAU;0CACZ;oCAAC;oCAAG;oCAAG;iCAAE,CAAC,GAAG,CAAC,CAAC,kBACd,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;wCAET,WAAU;wCACV,SAAS;4CAAE,SAAS;gDAAC;gDAAK;gDAAG;6CAAI;wCAAC;wCAClC,YAAY;4CACV,QAAQ;4CACR,UAAU;4CACV,OAAO,IAAI;4CACX,MAAM;wCACR;uCARK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBvB;GArGwB;KAAA","debugId":null}},
    {"offset": {"line": 3581, "column": 0}, "map": {"version":3,"sources":["file:///Users/josephn/Desktop/firesight/app/main/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport MapboxMap from '../../components/MapboxMap';\nimport WelcomePage from '../../components/WelcomePage';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nexport default function MainPage() {\n  const [selectedCity, setSelectedCity] = useState(\"Davis, CA\");\n  const [showWelcome, setShowWelcome] = useState(true);\n\n  const handleCitySelect = (city: string) => {\n    setSelectedCity(city);\n  };\n\n  return (\n    <div className=\"relative h-screen w-full overflow-hidden\">\n      <AnimatePresence mode=\"wait\">\n        {showWelcome ? (\n          <WelcomePage key=\"welcome\" onComplete={() => setShowWelcome(false)} />\n        ) : (\n          <motion.div\n            key=\"main\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.5 }}\n            className=\"h-full w-full\"\n          >\n            <div className=\"absolute inset-0\">\n              <MapboxMap onCitySelect={handleCitySelect} />\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,mBAAmB,CAAC;QACxB,gBAAgB;IAClB;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,4LAAA,CAAA,kBAAe;YAAC,MAAK;sBACnB,4BACC,6LAAC,6HAAA,CAAA,UAAW;gBAAe,YAAY,IAAM,eAAe;eAA3C;;;;qCAEjB,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBAET,SAAS;oBAAE,SAAS;gBAAE;gBACtB,SAAS;oBAAE,SAAS;gBAAE;gBACtB,MAAM;oBAAE,SAAS;gBAAE;gBACnB,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;0BAEV,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,2HAAA,CAAA,UAAS;wBAAC,cAAc;;;;;;;;;;;eARvB;;;;;;;;;;;;;;;AAehB;GA9BwB;KAAA","debugId":null}}]
}